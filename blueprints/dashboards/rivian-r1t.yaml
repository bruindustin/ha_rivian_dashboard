blueprint:
  name: Rivian R1T Dashboard
  description: Dashboard for Rivian R1T, customizable with user-specific entities from the Rivian integration
  domain: lovelace
  input:
    odometer:
      name: Odometer Sensor
      description: Sensor for the vehicle's odometer
      selector:
        entity:
          integration: rivian
    software:
      name: Software Update Entity
      description: Entity for the vehicle's software updates
      selector:
        entity:
          integration: rivian
    cabin_temperature:
      name: Cabin Temperature Sensor
      description: Sensor for the vehicle's cabin temperature
      selector:
        entity:
          integration: rivian
    altitude:
      name: Altitude Sensor
      description: Sensor for the vehicle's altitude
      selector:
        entity:
          integration: rivian
    wiper_fluid:
      name: Wiper Fluid Sensor
      description: Sensor for the vehicle's wiper fluid level
      selector:
        entity:
          integration: rivian
    battery_health:
      name: 12V Battery Health Sensor
      description: Sensor for the vehicle's 12V battery health
      selector:
        entity:
          integration: rivian
    power_state:
      name: Power State Sensor
      description: Sensor for the vehicle's power state
      selector:
        entity:
          integration: rivian
    lock_sensors:
      name: Lock Sensors
      description: List of lock sensors for various parts of the vehicle
      selector:
        entity:
          multiple: true
          integration: rivian
    tire_pressure_sensors:
      name: Tire Pressure Sensors
      description: List of tire pressure sensors for all tires
      selector:
        entity:
          multiple: true
          integration: rivian
    battery_state_of_charge:
      name: Battery State of Charge Sensor
      description: Sensor for the vehicle's battery state of charge
      selector:
        entity:
          integration: rivian
    estimated_vehicle_range:
      name: Estimated Vehicle Range Sensor
      description: Sensor for the vehicle's estimated range
      selector:
        entity:
          integration: rivian
    charging_status:
      name: Charging Status Sensor
      description: Sensor for the vehicle's charging status
      selector:
        entity:
          integration: rivian
    charging_rate:
      name: Charging Rate Sensor
      description: Sensor for the vehicle's charging rate
      selector:
        entity:
          integration: rivian
    charging_speed:
      name: Charging Speed Sensor
      description: Sensor for the vehicle's charging speed
      selector:
        entity:
          integration: rivian
    charging_energy_delivered:
      name: Charging Energy Delivered Sensor
      description: Sensor for the vehicle's charging energy delivered
      selector:
        entity:
          integration: rivian
    charging_time_remaining:
      name: Charging Time Remaining Sensor
      description: Sensor for the vehicle's charging time remaining
      selector:
        entity:
          integration: rivian
    battery_state_of_charge_limit:
      name: Battery State of Charge Limit Sensor
      description: Sensor for the vehicle's battery state of charge limit
      selector:
        entity:
          integration: rivian
    charging_range_added:
      name: Charging Range Added Sensor
      description: Sensor for the vehicle's charging range added
      selector:
        entity:
          integration: rivian
    charging_start_time:
      name: Charging Start Time Sensor
      description: Sensor for the vehicle's charging start time
      selector:
        entity:
          integration: rivian
    charging_cost:
      name: Charging Cost Sensor
      description: Sensor for the vehicle's charging cost
      selector:
        entity:
          integration: rivian
    image_front_dark:
      name: Front Image (Dark)
      description: Image entity for the front view in dark mode
      selector:
        entity:
          integration: rivian
    image_overhead_dark:
      name: Overhead Image (Dark)
      description: Image entity for the overhead view in dark mode
      selector:
        entity:
          integration: rivian
    image_side_charging_dark:
      name: Side Charging Image (Dark)
      description: Image entity for the side view during charging in dark mode
      selector:
        entity:
          integration: rivian
    background_image:
      name: Background Image
      description: URL or path to the background image to use for the dashboard
      selector:
        text: {}      

views:
  - title: R1T
    cards: []
    type: sections
    max_columns: 3
    sections:
      - type: grid
        cards:
          - type: gauge
            entity: !input odometer
            max: 30100
            layout_options:
              grid_columns: 2
              grid_rows: 2
            name: Odometer
          - type: tile
            entity: !input software
            name: Software
            vertical: true
            show_entity_picture: true
            state_content:
              - state
              - installed_version
            layout_options:
              grid_columns: 2
              grid_rows: 2
          - type: custom:gap-card
          - type: picture-elements
            elements:
              - type: state-label
                prefix: 'Cabin Temp: '
                entity: !input cabin_temperature
                style:
                  top: 35%
                  left: 50%
            image_entity: !input image_front_dark
          - graph: line
            type: sensor
            entity: !input cabin_temperature
            detail: 2
            name: Cabin Temp
          - graph: line
            type: sensor
            entity: !input altitude
            detail: 2
            name: Altitude
            hours_to_show: 24
          - type: tile
            entity: !input wiper_fluid
            name: Wiper Fluid
            show_entity_picture: false
          - type: tile
            entity: !input battery_health
            name: 12v Battery
            hide_state: false
            show_entity_picture: false
        title: General
      - type: grid
        cards:
          - type: picture-elements
            elements:
              - type: state-badge
                entity: !input power_state
                title: Power State
                style:
                  top: 50%
                  left: 51%
              - type: state-icon
                entity: !input lock_sensors[0]
                style:
                  top: 9%
                  left: 50.8%
              - type: state-icon
                entity: !input lock_sensors[1]
                style:
                  top: 9%
                  left: 12%
              - type: state-icon
                entity: !input lock_sensors[2]
                style:
                  top: 41%
                  left: 12%
              - type: state-icon
                entity: !input lock_sensors[3]
                style:
                  top: 41%
                  left: 89.5%
              - type: state-icon
                entity: !input lock_sensors[4]
                style:
                  top: 57%
                  left: 12%
              - type: state-icon
                entity: !input lock_sensors[5]
                style:
                  top: 57%
                  left: 89.5%
              - type: state-icon
                entity: !input lock_sensors[6]
                style:
                  top: 65%
                  left: 12%
              - type: state-icon
                entity: !input lock_sensors[7]
                style:
                  top: 65%
                  left: 89.5%
              - type: state-icon
                entity: !input lock_sensors[8]
                style:
                  top: 68%
                  left: 51%
              - type: state-icon
                entity: !input lock_sensors[9]
                style:
                  top: 91%
                  left: 51%
              - type: state-icon
                entity: !input lock_sensors[10]
                style:
                  top: 86%
                  left: 28%
              - type: state-icon
                entity: !input tire_pressure_sensors[0]
                style:
                  top: 13%
                  left: 9%
              - type: state-label
                entity: !input tire_pressure_sensors[1]
                style:
                  top: 15%
                  left: 9%
              - type: state-label
                entity: !input tire_pressure_sensors[2]
                style:
                  top: 17%
                  left: 9%
              - type: state-icon
                entity: !input tire_pressure_sensors[3]
                style:
                  top: 13%
                  left: 93%
              - type: state-label
                entity: !input tire_pressure_sensors[4]
                style:
                  top: 15%
                  left: 93%
              - type: state-label
                entity: !input tire_pressure_sensors[5]
                style:
                  top: 17%
                  left: 93%
              - type: state-icon
                entity: !input tire_pressure_sensors[6]
                style:
                  top: 73%
                  left: 9%
              - type: state-label
                entity: !input tire_pressure_sensors[7]
                style:
                  top: 75%
                  left: 9%
              - type: state-label
                entity: !input tire_pressure_sensors[8]
                style:
                  top: 77%
                  left: 9%
              - type: state-icon
                entity: !input tire_pressure_sensors[9]
                style:
                  top: 73%
                  left: 92%
                            - type: state-label
                entity: !input tire_pressure_sensors[10]
                style:
                  top: 75%
                  left: 92%
              - type: state-label
                entity: !input tire_pressure_sensors[11]
                style:
                  top: 77%
                  left: 92%
            image_entity: !input image_overhead_dark
        title: Status
      - type: grid
        cards:
          - type: gauge
            entity: !input battery_state_of_charge
            layout_options:
              grid_columns: 2
              grid_rows: 2
            name: State of Charge
          - graph: line
            type: sensor
            entity: !input estimated_vehicle_range
            detail: 2
            hours_to_show: 12
            name: Estimated Range
          - type: custom:gap-card
          - type: picture-elements
            elements:
              - type: state-label
                prefix: 'Status: '
                entity: !input charging_status
                style:
                  top: 5%
                  left: 75px
              - type: state-icon
                entity: !input lock_sensors[1]
                style:
                  top: 39.6%
                  left: 35.4%
              - type: conditional
                conditions:
                  - entity: !input charging_status
                    state: Charging
                elements:
                  - type: state-label
                    prefix: 'Charging Rate: '
                    entity: !input charging_rate
                    style:
                      top: 10%
                      left: 90px
                  - type: state-label
                    prefix: 'Charging Port: '
                    entity: !input lock_sensors[1]
                    style:
                      top: 10%
                      left: 90px
                  - type: state-label
                    prefix: 'Charging Speed: '
                    entity: !input charging_speed
                    style:
                      top: 15%
                      left: 96px
                  - type: state-label
                    prefix: 'Energy Delivered: '
                    entity: !input charging_energy_delivered
                    style:
                      top: 20%
                      left: 108px
                  - type: state-label
                    prefix: 'Time Remaining: '
                    entity: !input charging_time_remaining
                    style:
                      top: 25%
                      left: 100px
            image_entity: !input image_side_charging_dark
          - type: tile
            entity: !input battery_state_of_charge_limit
            name: Charge Limit
          - type: tile
            entity: !input charging_range_added
            name: Range Added
            visibility:
              - condition: state
                entity: !input charging_status
                state: 'on'
          - graph: line
            type: sensor
            detail: 2
            entity: !input charging_rate
            name: Charge Rate
            visibility:
              - condition: state
                entity: !input charging_status
                state: 'on'
          - graph: line
            type: sensor
            entity: !input charging_speed
            detail: 2
            name: Charge Speed
            visibility:
              - condition: state
                entity: !input charging_status
                state: 'on'
          - type: tile
            entity: !input charging_start_time
            visibility:
              - condition: state
                entity: !input charging_status
                state: 'on'
            name: Charge Start Time
          - type: tile
            entity: !input charging_cost
            name: Charging Cost
            visibility:
              - condition: state
                entity: !input charging_status
                state: 'on'
        title: Charging
    icon: mdi:truck-off-road
    background:
      image: !input background_image